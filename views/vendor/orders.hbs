<section id="orders">
    <h1>Orders</h1>
    <div class="orders-buttons">
        <button class="button {{#if (statusEqualTo status 'preparing')}}selected{{/if}}"
            onclick="getUnfulfilled()">
            Unfulfilled
            <i class="fas fa-circle" id="orange-dot"></i>
        </button>
        <button class="button {{#if (statusEqualTo status 'fulfilled')}}selected{{/if}}"
            onclick="getFulfilled()">
            Fulfilled
            <i class="fas fa-circle" id="green-dot"></i>
        </button>
        <button class="button {{#if (statusEqualTo status 'completed')}}selected{{/if}}"
            onclick="getCompleted()">
            Completed
            <i class="fas fa-circle" id="blue-dot"></i>
        </button>
    </div>
    <div class="orders-wrapper">
        {{#each orders}}
        {{#if (orderNotCancelled this.status)}}
        <a class="order-item" href="/vendor/orders/{{this.orderId}}">
            <div class="order-item-id">
                {{this.orderId}}
            </div>
            <div class="status-dot">
                {{#if this.timePickedUp}}
                <i class="fas fa-circle" id="blue-dot"></i>
                {{else if this.timeFulfilled}}
                <i class="fas fa-circle" id="green-dot"></i>
                {{else if this.timeOrdered}}
                <i class="fas fa-circle" id="orange-dot"></i>
                {{/if}}
            </div>
            <div>
                Ordered: {{formatDateTime this.timeOrdered}}
            </div>
        </a>
        {{/if}}
        {{/each}}
    </div>
</section>

<script>
    function getUnfulfilled() {
        window.location = "/vendor/orders?status=preparing";
    }
    function getFulfilled() {
        window.location = "/vendor/orders?status=fulfilled";
    }
    function getCompleted() {
        window.location = "/vendor/orders?status=completed";
    }
</script>