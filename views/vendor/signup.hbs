<section id="signup-vendor">
  <form method="post" action="/vendor/signup" onsubmit="return validate()" class="vendor-signup-form">
    <div class="vendor-signup-form-header">
      <i class="icon-SnackVan"></i>
      <h1>Signup Form</h1>
    </div>
    <label for="vendorName">Vendor Name</label>
    <input placeholder="vendor name" name='vendorName' id='vendorName' value="" />
    <label for="password">Password</label>
    <input placeholder="***************" name='password' id='password' type="password" value="" />
    <label for="Confirm Password password">Confirm Password</label>
    <input placeholder="***************" name='vendorconfirmPassword' id='vendorconfirmPassword' type="password" value="" />
    <div class="vendor-signup-form-submit">
      <button type="submit" class="button" id="vendor-signup-button">SIGN UP</button>
    </div>
  </form>
</section>

<script>

  // check if the sign up meet the requirements
  function validate() {
    //Passwords MUST be hashedbefore storing them in the database.
    const password = document.getElementById("password").value;
    const confirmPassword = document.getElementById("vendorconfirmPassword").value;
    if (confirmPassword !== password) {
      alert("Passwords do not match.");
      return false;
    }
    
    if (!passwordPolicy(password)) {
      alert("Invalid password\n\n" +
            "1. At least one alphabet character (upper or lower caseA-Z)\n" +
            "2. At least one numerical digit (0-9)\n" +
            "3. A length of at least 8 characters");
      return false;
    }
  }

  // checks the following:
  // 1. At least one alphabet character (upper or lower case A-Z)
  // 2. At least one numerical digit (0-9)
  // 3. A length of at least 8 characters
  function passwordPolicy(password) {
    const regexNum = /\d/;
    const regexChar = /[a-zA-Z]/;
    
    const hasAlphabet = regexChar.test(password);
    const hasNum = regexNum.test(password);
    const length = password.length;
    let validLen;
    if(length >= 8 ){
      validLen = 1;
    }
    else{
      validLen = 0;
    }

    if((hasAlphabet == 1) && (hasNum == 1) && (validLen == 1)) {
      return true;
    }
    else{
      return false;
    }
  }

</script> 
